window.germanized=window.germanized||{},function(h,s){s.settings={params:{},init:function(){var e=this;this.params=wc_gzd_admin_settings_params;try{h(document.body).on("wc-enhanced-select-init wc-gzd-enhanced-select-init",this.onEnhancedSelectInit).trigger("wc-gzd-enhanced-select-init")}catch(e){window.console.log(e)}h(document).on("change","input[name=woocommerce_gzd_dispute_resolution_type]",this.onChangeDisputeResolutionType).on("click","a.woocommerce-gzd-input-toggle-trigger",this.onInputToogleClick).on("change",".wc-gzd-setting-tabs input.woocommerce-gzd-tab-status-checkbox",this.onChangeTabStatus).on("change gzd_show_or_hide_fields",".wc-gzd-admin-settings :input",this.onChangeInput).on("change",".wc-gzd-setting-tab-enabled :input",this.preventWarning),h(document.body).on("woocommerce_gzd_setting_field_visible",this.onShowField).on("woocommerce_gzd_setting_field_invisible",this.onHideField),h(".wc-gzd-admin-settings :input").trigger("gzd_show_or_hide_fields"),h("input[name=woocommerce_gzd_dispute_resolution_type]:checked").trigger("change"),this.initMailSortable(),h(document.body).on("init_tooltips",function(){e.initTipTips()}),e.initTipTip()},preventWarning:function(){window.onbeforeunload=""},initTipTip:function(){h(".wc-gzd-setting-tab-actions a.button").tipTip({fadeIn:50,fadeOut:50,delay:200})},onChangeTabStatus:function(){var e=h(this),t=s.settings,i=e.data("tab"),n=e.parents("td").find(".woocommerce-gzd-input-toggle"),o=n.parents("a"),e=e.is(":checked")?"yes":"no",i={action:"woocommerce_gzd_toggle_tab_enabled",security:t.params.tab_toggle_nonce,enable:e,tab:i};return n.addClass("woocommerce-input-toggle--loading"),h.ajax({url:t.params.ajax_url,data:i,dataType:"json",type:"POST",success:function(e){!0===e.data?(n.removeClass("woocommerce-input-toggle--enabled, woocommerce-input-toggle--disabled"),n.addClass("woocommerce-input-toggle--enabled"),n.removeClass("woocommerce-input-toggle--loading"),e.hasOwnProperty("message")&&0<e.message.length&&(h(".wc-gzd-setting-tabs").before('<div class="error inline" id="message"><p>'+e.message+"</p></div>"),h("html, body").animate({scrollTop:h("#message").offset().top-32},1e3))):!1===e.data?(n.removeClass("woocommerce-input-toggle--enabled, woocommerce-input-toggle--disabled"),n.addClass("woocommerce-input-toggle--disabled"),n.removeClass("woocommerce-input-toggle--loading")):"needs_setup"===e.data&&(window.location.href=o.attr("href"))}}),!1},onShowField:function(e,t,i,n){t.parents("table").find(":input[data-show_if_"+i+"]").each(function(){h(this).trigger("gzd_show_or_hide_fields")})},onHideField:function(e,t,i,n){t.parents("table").find(":input[data-show_if_"+i+"]").each(function(){h(this).trigger("gzd_show_or_hide_fields")})},onChangeInput:function(){h(this).parents("tr").find(":input:not(.select2-focusser, .select2-input)").each(function(){var l,g,e,t=h(this),m=!1,i=h(this).attr("name");(t.is(":checked")||t.is(":selected"))&&(m=!0,t.parents("tr").is(":visible")||(m=!1)),void 0!==i&&!1!==i&&(l=i.replace(/[\[\]']+/g,""),g=t.val(),i=h(".wc-gzd-admin-settings").find(":input[data-show_if_"+l+"]"),t.is(":checkbox")&&(g=t.is(":checked")?"yes":"no",t.parents("tr").is(":visible")||(g="no")),i.each(function(){var e,t,i=h(this).data("show_if_"+l),n=h(this).data(),o=h(this).val(),s=h(this).attr("name").replace(/[\[\]']+/g,""),a=h(this).parents("tr"),c=!1,d=a.hasClass("wc-gzd-setting-visible"),r=[];for(e in n)n.hasOwnProperty(e)&&"show_if_"===e.substring(0,8)&&(t=e.replace("show_if_",""),r[h(".wc-gzd-admin-settings").find(":input#"+t).index(":input")]=t);1<(r=r.filter(function(){return!0})).length&&(d||(d=r.slice(-1)[0],l!==d?(c=!0,h(":input#"+d).parents("tr").is(":visible")&&h(".wc-gzd-admin-settings").find(":input#"+d).trigger("gzd_show_or_hide_fields")):h(":input#"+d).parents("tr").is(":visible")||(console.log(d),console.log(a),a.addClass("wc-gzd-setting-invisible"),h(document.body).trigger("woocommerce_gzd_setting_field_invisible",[a,s,o]),c=!0))),c||(a.removeClass("wc-gzd-setting-visible wc-gzd-setting-invisible"),void 0!==i&&0<i.length?g===i?(a.addClass("wc-gzd-setting-visible"),h(document.body).trigger("woocommerce_gzd_setting_field_visible",[a,s,o])):(a.addClass("wc-gzd-setting-invisible"),h(document.body).trigger("woocommerce_gzd_setting_field_invisible",[a,s,o])):m?(a.addClass("wc-gzd-setting-visible"),h(document.body).trigger("woocommerce_gzd_setting_field_visible",[a,s,o])):(a.addClass("wc-gzd-setting-invisible"),h(document.body).trigger("woocommerce_gzd_setting_field_invisible",[a,s,o])))}),i=h(this).parents(".form-table"),e=!1,i.find("tr").each(function(){if(!h(this).hasClass("wc-gzd-setting-invisible"))return!(e=!0)}),e?i.show():i.hide())})},onEnhancedSelectInit:function(){h(":input.wc-gzd-enhanced-tags").filter(":not(.enhanced)").each(function(){var e={minimumResultsForSearch:10,allowClear:!!h(this).data("allow_clear"),placeholder:h(this).data("placeholder"),tags:!0};h(this).selectWoo(e).addClass("enhanced")})},onParcelDeliveryShowSpecial:function(){"shipping_methods"===h(this).val()?h("select#woocommerce_gzd_checkboxes_parcel_delivery_show_shipping_methods").parents("tr").show():h("select#woocommerce_gzd_checkboxes_parcel_delivery_show_shipping_methods").parents("tr").hide()},onChangeDisputeResolutionType:function(){var e=h(this).val();h("#woocommerce_gzd_alternative_complaints_text_"+e);h("[id^=woocommerce_gzd_alternative_complaints_text_]").parents("tr").hide(),h("#woocommerce_gzd_alternative_complaints_text_"+e).parents("tr").show()},onInputToogleClick:function(){var e=h(this).find("span.woocommerce-gzd-input-toggle"),t=e.parents("fieldset").find("input[type=checkbox]"),i=e.hasClass("woocommerce-input-toggle--enabled");return e.removeClass("woocommerce-input-toggle--enabled"),e.removeClass("woocommerce-input-toggle--disabled"),i?(t.prop("checked",!1),e.addClass("woocommerce-input-toggle--disabled")):(t.prop("checked",!0),e.addClass("woocommerce-input-toggle--enabled")),t.trigger("change"),!1},initMailSortable:function(){var n;0<h("#woocommerce_gzd_mail_attach_imprint").length&&(n=h("#woocommerce_gzd_mail_attach_imprint").parents("table"),h(n).find("tbody").sortable({items:"tr",cursor:"move",axis:"y",handle:"td, th",scrollSensitivity:40,helper:function(e,t){return t.children().each(function(){jQuery(this).width(jQuery(this).width())}),t.css("left","0"),t},start:function(e,t){t.item.css("background-color","#f6f6f6")},stop:function(e,t){t.item.removeAttr("style");var i=[];h(n).find("tr select").each(function(){i.push(h(this).attr("id").replace("woocommerce_gzd_mail_attach_",""))}),h("#woocommerce_gzd_mail_attach_order").val(i.join())}}))}},h(document).ready(function(){s.settings.init()})}(jQuery,window.germanized);