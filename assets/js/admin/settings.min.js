window.germanized=window.germanized||{},function(d,c){c.settings={params:{},init:function(){var e=this;this.params=wc_gzd_admin_settings_params;try{d(document.body).on("wc-enhanced-select-init wc-gzd-enhanced-select-init",this.onEnhancedSelectInit).trigger("wc-gzd-enhanced-select-init")}catch(e){window.console.log(e)}d(document).on("change","select#woocommerce_gzd_checkboxes_parcel_delivery_show_special",this.onParcelDeliveryShowSpecial).on("change","input#woocommerce_gzd_order_pay_now_button",this.onChangePayNow).on("change","input[name=woocommerce_gzd_dispute_resolution_type]",this.onChangeDisputeResolutionType).on("click","a.woocommerce-gzd-input-toggle-trigger",this.onInputToogleClick).on("change",".wc-gzd-setting-tabs input.woocommerce-gzd-tab-status-checkbox",this.onChangeTabStatus).on("change",".wc-gzd-admin-settings :input",this.onChangeInput),d(document.body).on("woocommerce_gzd_setting_field_visible",this.onShowField).on("woocommerce_gzd_setting_field_invisible",this.onHideField),d(".wc-gzd-admin-settings :input").trigger("change"),d("select#woocommerce_gzd_checkboxes_parcel_delivery_show_special").trigger("change"),d("input#woocommerce_gzd_order_pay_now_button").trigger("change"),d("input[name=woocommerce_gzd_dispute_resolution_type]:checked").trigger("change"),this.initMailSortable(),d(document.body).on("init_tooltips",function(){e.initTipTips()}),e.initTipTip()},initTipTip:function(){d(".wc-gzd-setting-tab-actions a.button").tipTip({fadeIn:50,fadeOut:50,delay:200})},onChangeTabStatus:function(){var e=d(this),t=c.settings,i=e.data("tab"),o=e.parents("td").find(".woocommerce-gzd-input-toggle"),n=o.parents("a"),a=e.is(":checked")?"yes":"no",s={action:"woocommerce_gzd_toggle_tab_enabled",security:t.params.tab_toggle_nonce,enable:a,tab:i};return o.addClass("woocommerce-input-toggle--loading"),d.ajax({url:t.params.ajax_url,data:s,dataType:"json",type:"POST",success:function(e){!0===e.data?(o.removeClass("woocommerce-input-toggle--enabled, woocommerce-input-toggle--disabled"),o.addClass("woocommerce-input-toggle--enabled"),o.removeClass("woocommerce-input-toggle--loading")):!1===e.data?(o.removeClass("woocommerce-input-toggle--enabled, woocommerce-input-toggle--disabled"),o.addClass("woocommerce-input-toggle--disabled"),o.removeClass("woocommerce-input-toggle--loading")):"needs_setup"===e.data&&(window.location.href=n.attr("href"))}}),!1},onShowField:function(e,t,o,i){t.parents("table").find(":input[data-show_if_"+o+"]").each(function(){d(this).data("show_if_"+o);var e=d(this).val(),t=d(this).attr("name").replace("[]",""),i=d(this).parents("tr");i.removeClass("wc-gzd-setting-invisible"),i.addClass("wc-gzd-setting-visible"),d(document.body).trigger("woocommerce_gzd_setting_field_visible",[i,t,e])})},onHideField:function(e,t,o,i){t.parents("table").find(":input[data-show_if_"+o+"]").each(function(){d(this).data("show_if_"+o);var e=d(this).val(),t=d(this).attr("name").replace("[]",""),i=d(this).parents("tr");i.removeClass("wc-gzd-setting-visible"),i.addClass("wc-gzd-setting-invisible"),d(document.body).trigger("woocommerce_gzd_setting_field_invisible",[i,t,e])})},onChangeInput:function(){d(this).parents("tr").find(":input:not(.select2-focusser, .select2-input)").each(function(){var e=d(this),n=!1,t=d(this).attr("name");if((e.is(":checked")||e.is(":selected"))&&(n=!0),void 0!==t&&!1!==t){var a=t.replace("[]",""),s=e.val(),i=d(".wc-gzd-admin-settings").find(":input[data-show_if_"+a+"]");e.is(":checkbox")&&(s=e.is(":checked")?"yes":"no"),i.each(function(){var e=d(this).data("show_if_"+a),t=d(this).val(),i=d(this).attr("name").replace("[]",""),o=d(this).parents("tr");o.removeClass("wc-gzd-setting-visible wc-gzd-setting-invisible"),0<e.length?s===e?(o.addClass("wc-gzd-setting-visible"),d(document.body).trigger("woocommerce_gzd_setting_field_visible",[o,i,t])):(o.addClass("wc-gzd-setting-invisible"),d(document.body).trigger("woocommerce_gzd_setting_field_invisible",[o,i,t])):n?(o.addClass("wc-gzd-setting-visible"),d(document.body).trigger("woocommerce_gzd_setting_field_visible",[o,i,t])):(o.addClass("wc-gzd-setting-invisible"),d(document.body).trigger("woocommerce_gzd_setting_field_invisible",[o,i,t]))});var o=d(this).parents(".form-table"),c=!1;o.find("tr").each(function(){if(!d(this).hasClass("wc-gzd-setting-invisible"))return!(c=!0)}),c?o.show():o.hide()}})},onEnhancedSelectInit:function(){d(":input.wc-gzd-enhanced-tags").filter(":not(.enhanced)").each(function(){var e={minimumResultsForSearch:10,allowClear:!!d(this).data("allow_clear"),placeholder:d(this).data("placeholder"),tags:!0};d(this).selectWoo(e).addClass("enhanced")})},onParcelDeliveryShowSpecial:function(){"shipping_methods"===d(this).val()?d("select#woocommerce_gzd_checkboxes_parcel_delivery_show_shipping_methods").parents("tr").show():d("select#woocommerce_gzd_checkboxes_parcel_delivery_show_shipping_methods").parents("tr").hide()},onChangePayNow:function(){d(this).is(":checked")?d("select#woocommerce_gzd_order_pay_now_button_disabled_methods").parents("tr").show():d("select#woocommerce_gzd_order_pay_now_button_disabled_methods").parents("tr").hide()},onChangeDisputeResolutionType:function(){var e=d(this).val();d("#woocommerce_gzd_alternative_complaints_text_"+e);d("[id^=woocommerce_gzd_alternative_complaints_text_]").parents("tr").hide(),d("#woocommerce_gzd_alternative_complaints_text_"+e).parents("tr").show()},onInputToogleClick:function(){var e=d(this).find("span.woocommerce-gzd-input-toggle"),t=e.parents("fieldset").find("input[type=checkbox]"),i=e.hasClass("woocommerce-input-toggle--enabled");return e.removeClass("woocommerce-input-toggle--enabled"),e.removeClass("woocommerce-input-toggle--disabled"),i?(t.prop("checked",!1),e.addClass("woocommerce-input-toggle--disabled")):(t.prop("checked",!0),e.addClass("woocommerce-input-toggle--enabled")),t.trigger("change"),!1},initMailSortable:function(){if(0<d("#woocommerce_gzd_mail_attach_imprint").length){var o=d("#woocommerce_gzd_mail_attach_imprint").parents("table");d(o).find("tbody").sortable({items:"tr",cursor:"move",axis:"y",handle:"td, th",scrollSensitivity:40,helper:function(e,t){return t.children().each(function(){jQuery(this).width(jQuery(this).width())}),t.css("left","0"),t},start:function(e,t){t.item.css("background-color","#f6f6f6")},stop:function(e,t){t.item.removeAttr("style");var i=[];d(o).find("tr select").each(function(){i.push(d(this).attr("id").replace("woocommerce_gzd_mail_attach_",""))}),d("#woocommerce_gzd_mail_attach_order").val(i.join())}})}}},d(document).ready(function(){c.settings.init()})}(jQuery,window.germanized);