jQuery(function(i){var o={warranty_upload_file_frame:!1,init:function(){var e=o;i(document).on("click","a.wc-gzd-add-new-country-specific-delivery-time",e.onAddNewDeliveryTime).on("click","a.wc-gzd-remove-country-specific-delivery-time",e.onRemoveDeliveryTime).on("change","input[name=_defective_copy]",e.onChangeDefectiveCopy).on("click",".upload_warranty_button",e.onUploadWarranty).on("click","a.wc-gzd-warranty-delete",e.onRemoveWarranty),i("input[name=_defective_copy]").trigger("change")},onUploadWarranty:function(e){var a=o,t=i(this),n=t.closest("p.form-field, p.form-row").find("a.wc-gzd-warranty-delete"),r=t.closest("p.form-field, p.form-row").find(".wc-gzd-warranty-attachment");e.preventDefault(),a.warranty_upload_file_frame=wp.media.frames.customHeader=wp.media({title:t.data("choose"),library:{type:"application/pdf"},button:{text:t.data("update")},multiple:!1}),a.warranty_upload_file_frame.on("select",function(){a.warranty_upload_file_frame.state().get("selection").map(function(e){(e=e.toJSON()).filename&&(t.text(e.filename),n.removeClass("file-missing").show(),r.val(e.id))})}),a.warranty_upload_file_frame.on("open",function(){var e=a.warranty_upload_file_frame.state().get("selection"),t=r.val();0<t.length?(t=wp.media.attachment(t),e.add(t?[t]:[]),a.warranty_upload_file_frame.content.mode("browse")):(e.remove(),a.warranty_upload_file_frame.content.mode("upload"))}),a.warranty_upload_file_frame.open()},onRemoveWarranty:function(){var e=i(this).closest("p.form-field, p.form-row");return e.find(".wc-gzd-warranty-attachment").val(""),e.find("a.upload_warranty_button").text(e.find("a.upload_warranty_button").data("default-label")),e.find("a.wc-gzd-warranty-delete").addClass("file-missing").hide(),!1},onChangeDefectiveCopy:function(){i(this).is(":checked")?i("#wc-gzd-product-defect-description").addClass("show").show():i("#wc-gzd-product-defect-description").removeClass("show").hide()},onAddNewDeliveryTime:function(){var e=i(this).parents("#shipping_product_data"),t=(e=0===e.length?i(this).parents(".woocommerce_variable_attributes"):e).find(".wc-gzd-add-country-specific-delivery-time-template .wc-gzd-delivery-time-search.enhanced");0<t.length&&(t.selectWoo("destroy"),t.removeClass("enhanced"));t=e.find(".wc-gzd-add-country-specific-delivery-time-template:first").clone();return t.removeClass("wc-gzd-add-country-specific-delivery-time-template").addClass("wc-gzd-country-specific-delivery-time-new"),e.find(".wc-gzd-new-country-specific-delivery-time-placeholder").append(t).show(),i(document.body).trigger("wc-enhanced-select-init"),!1},onRemoveDeliveryTime:function(){var e=i(this).parents(".form-row, .form-field");return e.find("select").trigger("change"),e.remove(),!1}};o.init()});