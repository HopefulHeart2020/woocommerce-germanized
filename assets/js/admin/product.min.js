jQuery(function(r){var d={warranty_upload_file_frame:!1,init:function(){var e=d;r(document).on("click","a.wc-gzd-add-new-country-specific-delivery-time",e.onAddNewDeliveryTime).on("click","a.wc-gzd-remove-country-specific-delivery-time",e.onRemoveDeliveryTime).on("change","input[name=_defective_copy]",e.onChangeDefectiveCopy).on("click",".upload_warranty_button",e.onUploadWarranty).on("click","a.wc-gzd-warranty-delete",e.onRemoveWarranty),r("input[name=_defective_copy]").trigger("change"),r("#the-list").on("click",".editinline",e.onQuickEdit)},onQuickEdit:function(){var e,t,i=(i=r(this).closest("tr").attr("id")).replace("post-",""),a=r("#inline_"+i);0<a.find(".gzd_delivery_time_slug").length&&(e=a.find(".gzd_delivery_time_slug").text(),t=a.find(".gzd_delivery_time_name").text(),a=a.find(".gzd_unit_slug").text(),r('select[name="_unit"] option:selected',".inline-edit-row").attr("selected",!1).trigger("change"),r('select[name="_unit"] option[value="'+a+'"]').attr("selected","selected").trigger("change"),r('select[name="_delivery_time"] option').remove().trigger("change"),e&&r('select[name="_delivery_time"]').append('<option value="'+e+'" selected="selected">'+t+"</option>"),setTimeout(function(){var e=r("tr#edit-"+i+" .wc-gzd-delivery-time-search.enhanced");0<e.length&&(e.selectWoo("destroy"),e.removeClass("enhanced")),r("tr#edit-"+i+" .wc-gzd-delivery-time-select-placeholder").addClass("wc-product-search","wc-gzd-delivery-time-search").removeClass("wc-gzd-delivery-time-select-placeholder"),r(document.body).trigger("wc-enhanced-select-init")},100))},onUploadWarranty:function(e){var i=d,t=r(this),a=t.closest("p.form-field, p.form-row").find("a.wc-gzd-warranty-delete"),n=t.closest("p.form-field, p.form-row").find(".wc-gzd-warranty-attachment");e.preventDefault(),i.warranty_upload_file_frame=wp.media.frames.customHeader=wp.media({title:t.data("choose"),library:{type:"application/pdf"},button:{text:t.data("update")},multiple:!1}),i.warranty_upload_file_frame.on("select",function(){i.warranty_upload_file_frame.state().get("selection").map(function(e){(e=e.toJSON()).filename&&(t.text(e.filename),a.removeClass("file-missing").show(),n.val(e.id))})}),i.warranty_upload_file_frame.on("open",function(){var e=i.warranty_upload_file_frame.state().get("selection"),t=n.val();0<t.length?(t=wp.media.attachment(t),e.add(t?[t]:[]),i.warranty_upload_file_frame.content.mode("browse")):(e.remove(),i.warranty_upload_file_frame.content.mode("upload"))}),i.warranty_upload_file_frame.open()},onRemoveWarranty:function(){var e=r(this).closest("p.form-field, p.form-row");return e.find(".wc-gzd-warranty-attachment").val(""),e.find("a.upload_warranty_button").text(e.find("a.upload_warranty_button").data("default-label")),e.find("a.wc-gzd-warranty-delete").addClass("file-missing").hide(),!1},onChangeDefectiveCopy:function(){r(this).is(":checked")?r("#wc-gzd-product-defect-description").addClass("show").show():r("#wc-gzd-product-defect-description").removeClass("show").hide()},onAddNewDeliveryTime:function(){var e=r(this).parents("#shipping_product_data"),t=(e=0===e.length?r(this).parents(".woocommerce_variable_attributes"):e).find(".wc-gzd-add-country-specific-delivery-time-template .wc-gzd-delivery-time-search.enhanced");0<t.length&&(t.selectWoo("destroy"),t.removeClass("enhanced"));t=e.find(".wc-gzd-add-country-specific-delivery-time-template:first").clone();return t.removeClass("wc-gzd-add-country-specific-delivery-time-template").addClass("wc-gzd-country-specific-delivery-time-new"),e.find(".wc-gzd-new-country-specific-delivery-time-placeholder").append(t).show(),r(document.body).trigger("wc-enhanced-select-init"),!1},onRemoveDeliveryTime:function(){var e=r(this).parents(".form-row, .form-field");return e.find("select").trigger("change"),e.remove(),!1}};d.init()});