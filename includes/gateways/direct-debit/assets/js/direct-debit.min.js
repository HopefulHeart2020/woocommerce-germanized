!function(e){function t(e){return IBAN.isValid(e)}function i(e){var t=/^([a-zA-Z]){4}([a-zA-Z]){2}([0-9a-zA-Z]){2}([0-9a-zA-Z]{3})?$/;return t.test(e)}e(function(){e("form.checkout, form#order_review").on("blur input change","#direct-debit-form input#direct-debit-account-holder",function(){e(this).val()||(e(this).parents("p.form-row").removeClass("woocommerce-validated"),e(this).parents("p.form-row").addClass("woocommerce-invalid woocommerce-invalid-required-field"))}),e("form.checkout, form#order_review").on("blur input change","#direct-debit-form input#direct-debit-account-iban",function(){t(e(this).val())||(e(this).parents("p.form-row").removeClass("woocommerce-validated"),e(this).parents("p.form-row").addClass("woocommerce-invalid woocommerce-invalid-required-field"))}),e("form.checkout, form#order_review").on("blur input change","#direct-debit-form input#direct-debit-account-bic",function(){i(e(this).val())||(e(this).parents("p.form-row").removeClass("woocommerce-validated"),e(this).parents("p.form-row").addClass("woocommerce-invalid woocommerce-invalid-required-field"))}),e(".direct-debit-checkbox").hide(),e("form.checkout, form#order_review").on("blur input change","input, select",function(){e(".direct-debit-checkbox").hide(),e("#direct-debit-form").length&&e("#payment_method_direct-debit").is(":checked")&&e("input#direct-debit-account-holder").val()&&e("input#direct-debit-account-iban").val()&&e("input#direct-debit-account-bic").val()&&e(".direct-debit-checkbox").show()}),e(document).on("click","a#show-direct-debit-trigger",function(t){t.preventDefault();var i=e(this).attr("href"),r={country:e("#billing_country").val(),postcode:e("input#billing_postcode").val(),city:e("#billing_city").val(),address:e("input#billing_address_1").val(),address_2:e("input#billing_address_2").val(),debit_holder:e("input#direct-debit-account-holder").val(),debit_iban:e("input#direct-debit-account-iban").val(),debit_swift:e("input#direct-debit-account-bic").val(),user:e("input#createaccount").val()};i+="&ajax=true&"+jQuery.param(r),e("#show-direct-debit-pretty").attr("href",i),e("#show-direct-debit-pretty").trigger("click")}),e("a#show-direct-debit-pretty").prettyPhoto({social_tools:!1,theme:"pp_woocommerce",horizontal_padding:20,opacity:.8,deeplinking:!1})})}(jQuery);